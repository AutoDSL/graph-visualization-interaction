{"id":"node_modules/@antv/layout/lib/util/function.js","dependencies":[{"name":"D:\\myData\\前端\\doing\\graph-visualization-interaction\\node_modules\\@antv\\layout\\lib\\util\\function.js.map","includedInParent":true,"mtime":1676178923641},{"name":"D:\\myData\\前端\\doing\\graph-visualization-interaction\\node_modules\\@antv\\layout\\src\\util\\function.ts","includedInParent":true,"mtime":1676178923904},{"name":"D:\\myData\\前端\\doing\\graph-visualization-interaction\\package.json","includedInParent":true,"mtime":1676178924413},{"name":"D:\\myData\\前端\\doing\\graph-visualization-interaction\\node_modules\\@antv\\layout\\package.json","includedInParent":true,"mtime":1676178923486},{"name":".","loc":{"line":4,"column":17,"index":172},"parent":"D:\\myData\\前端\\doing\\graph-visualization-interaction\\node_modules\\@antv\\layout\\lib\\util\\function.js","resolved":"D:\\myData\\前端\\doing\\graph-visualization-interaction\\node_modules\\@antv\\layout\\lib\\util\\index.js"},{"name":"./number","loc":{"line":5,"column":23,"index":201},"parent":"D:\\myData\\前端\\doing\\graph-visualization-interaction\\node_modules\\@antv\\layout\\lib\\util\\function.js","resolved":"D:\\myData\\前端\\doing\\graph-visualization-interaction\\node_modules\\@antv\\layout\\lib\\util\\number.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFuncByUnknownType = exports.getFunc = exports.isFunction = void 0;\nvar _1 = require(\".\");\nvar number_1 = require(\"./number\");\nvar isFunction = function (val) {\n    return typeof val === 'function';\n};\nexports.isFunction = isFunction;\nvar getFunc = function (value, defaultValue, func) {\n    var resultFunc;\n    if (func) {\n        resultFunc = func;\n    }\n    else if ((0, number_1.isNumber)(value)) {\n        resultFunc = function () { return value; };\n    }\n    else {\n        resultFunc = function () { return defaultValue; };\n    }\n    return resultFunc;\n};\nexports.getFunc = getFunc;\nvar getFuncByUnknownType = function (defaultValue, value, resultIsNumber) {\n    if (resultIsNumber === void 0) { resultIsNumber = true; }\n    if (!value && value !== 0) {\n        return function (d) {\n            if (d.size) {\n                if ((0, _1.isArray)(d.size))\n                    return d.size[0] > d.size[1] ? d.size[0] : d.size[1];\n                if ((0, _1.isObject)(d.size))\n                    return d.size.width > d.size.height ? d.size.width : d.size.height;\n                return d.size;\n            }\n            return defaultValue;\n        };\n    }\n    if ((0, exports.isFunction)(value)) {\n        return value;\n    }\n    if ((0, number_1.isNumber)(value)) {\n        return function () { return value; };\n    }\n    if ((0, _1.isArray)(value)) {\n        return function () {\n            if (resultIsNumber) {\n                var max = Math.max.apply(Math, value);\n                return isNaN(max) ? defaultValue : max;\n            }\n            return value;\n        };\n    }\n    if ((0, _1.isObject)(value)) {\n        return function () {\n            if (resultIsNumber) {\n                var max = Math.max(value.width, value.height);\n                return isNaN(max) ? defaultValue : max;\n            }\n            return [value.width, value.height];\n        };\n    }\n    return function () { return defaultValue; };\n};\nexports.getFuncByUnknownType = getFuncByUnknownType;\n"},"sourceMaps":{"js":{"version":3,"file":"function.js","sourceRoot":"","sources":["../../src/util/function.ts"],"names":[],"mappings":";;;AAAA,sBAAsC;AACtC,mCAAoC;AAE7B,IAAM,UAAU,GAAG,UAAC,GAAY;IACrC,OAAA,OAAO,GAAG,KAAK,UAAU;AAAzB,CAAyB,CAAC;AADf,QAAA,UAAU,cACK;AAGrB,IAAM,OAAO,GAAG,UACrB,KAAa,EACb,YAAoB,EACpB,IAAwC;IAExC,IAAI,UAAU,CAAC;IACf,IAAI,IAAI,EAAE;QACR,UAAU,GAAG,IAAI,CAAC;KACnB;SAAM,IAAI,IAAA,iBAAQ,EAAC,KAAK,CAAC,EAAE;QAC1B,UAAU,GAAG,cAAM,OAAA,KAAK,EAAL,CAAK,CAAC;KAC1B;SAAM;QACL,UAAU,GAAG,cAAM,OAAA,YAAY,EAAZ,CAAY,CAAC;KACjC;IACD,OAAO,UAAU,CAAC;AACpB,CAAC,CAAC;AAdW,QAAA,OAAO,WAclB;AAEK,IAAM,oBAAoB,GAAG,UAClC,YAAoB,EACpB,KAAiG,EACjG,cAA8B;IAA9B,+BAAA,EAAA,qBAA8B;IAE9B,IAAI,CAAC,KAAK,IAAI,KAAK,KAAK,CAAC,EAAE;QACzB,OAAO,UAAC,CAAC;YACP,IAAI,CAAC,CAAC,IAAI,EAAE;gBACV,IAAI,IAAA,UAAO,EAAC,CAAC,CAAC,IAAI,CAAC;oBAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC1E,IAAI,IAAA,WAAQ,EAAC,CAAC,CAAC,IAAI,CAAC;oBAAE,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;gBACzF,OAAO,CAAC,CAAC,IAAI,CAAC;aACf;YACD,OAAO,YAAY,CAAC;QACtB,CAAC,CAAC;KACH;IACD,IAAI,IAAA,kBAAU,EAAC,KAAK,CAAC,EAAE;QACrB,OAAO,KAAK,CAAC;KACd;IACD,IAAI,IAAA,iBAAQ,EAAC,KAAK,CAAC,EAAE;QACnB,OAAO,cAAM,OAAA,KAAK,EAAL,CAAK,CAAC;KACpB;IACD,IAAI,IAAA,UAAO,EAAC,KAAK,CAAC,EAAE;QAClB,OAAO;YACL,IAAI,cAAc,EAAE;gBAClB,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAS,KAAkB,CAAC,CAAC;gBAC7C,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,CAAC;aACxC;YACD,OAAO,KAAK,CAAC;QACf,CAAC,CAAC;KACH;IACD,IAAI,IAAA,WAAQ,EAAC,KAAK,CAAC,EAAE;QACnB,OAAO;YACL,IAAI,cAAc,EAAE;gBAClB,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;gBAChD,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,CAAC;aACxC;YACD,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;QACrC,CAAC,CAAC;KACH;IACD,OAAO,cAAM,OAAA,YAAY,EAAZ,CAAY,CAAC;AAC5B,CAAC,CAAC;AAxCW,QAAA,oBAAoB,wBAwC/B","sourcesContent":["import { isArray, isObject } from \".\";\nimport { isNumber } from \"./number\";\n\nexport const isFunction = (val: unknown): val is Function =>\n  typeof val === 'function';\n\n\nexport const getFunc = (\n  value: number,\n  defaultValue: number,\n  func?: ((d?: any) => number) | undefined,\n): Function => {\n  let resultFunc;\n  if (func) {\n    resultFunc = func;\n  } else if (isNumber(value)) {\n    resultFunc = () => value;\n  } else {\n    resultFunc = () => defaultValue;\n  }\n  return resultFunc;\n};\n\nexport const getFuncByUnknownType = (\n  defaultValue: number,\n  value?: number | number[] | { width: number, height: number } | ((d?: any) => number) | undefined,\n  resultIsNumber: boolean = true\n): (d?: any) => number | number[] => {\n  if (!value && value !== 0) {\n    return (d) => {\n      if (d.size) {\n        if (isArray(d.size)) return d.size[0] > d.size[1] ? d.size[0] : d.size[1];\n        if (isObject(d.size)) return d.size.width > d.size.height ? d.size.width : d.size.height;\n        return d.size;\n      }\n      return defaultValue;\n    };\n  }\n  if (isFunction(value)) {\n    return value;\n  }\n  if (isNumber(value)) {\n    return () => value;\n  }\n  if (isArray(value)) {\n    return () => {\n      if (resultIsNumber) {\n        const max = Math.max(...(value as number[]));\n        return isNaN(max) ? defaultValue : max;\n      }\n      return value;\n    };\n  }\n  if (isObject(value)) {\n    return () => {\n      if (resultIsNumber) {\n        const max = Math.max(value.width, value.height);\n        return isNaN(max) ? defaultValue : max;\n      }\n      return [value.width, value.height];\n    };\n  }\n  return () => defaultValue;\n};\n"]}},"error":null,"hash":"21eee7a882a7ec37ed864dc15b30c642","cacheData":{"env":{}}}