{"id":"node_modules/@antv/layout/lib/layout/er/index.js","dependencies":[{"name":"D:\\myData\\前端\\doing\\AutoPL\\node_modules\\@antv\\layout\\lib\\layout\\er\\index.js.map","includedInParent":true,"mtime":499162500000},{"name":"D:\\myData\\前端\\doing\\AutoPL\\node_modules\\@antv\\layout\\src\\layout\\er\\index.ts","includedInParent":true,"mtime":499162500000},{"name":"D:\\myData\\前端\\doing\\AutoPL\\package.json","includedInParent":true,"mtime":1674182060254},{"name":"D:\\myData\\前端\\doing\\AutoPL\\node_modules\\@antv\\layout\\package.json","includedInParent":true,"mtime":1674179681168},{"name":"../base","loc":{"line":26,"column":21,"index":1103},"parent":"D:\\myData\\前端\\doing\\AutoPL\\node_modules\\@antv\\layout\\lib\\layout\\er\\index.js","resolved":"D:\\myData\\前端\\doing\\AutoPL\\node_modules\\@antv\\layout\\lib\\layout\\base.js"},{"name":"./core","loc":{"line":27,"column":37,"index":1152},"parent":"D:\\myData\\前端\\doing\\AutoPL\\node_modules\\@antv\\layout\\lib\\layout\\er\\index.js","resolved":"D:\\myData\\前端\\doing\\AutoPL\\node_modules\\@antv\\layout\\lib\\layout\\er\\core.js"}],"generated":{"js":"\"use strict\";\n/**\n * @fileOverview Force Layout Grid Align layout\n * @author wenyanqi\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ERLayout = void 0;\nvar base_1 = require(\"../base\");\nvar core_1 = __importDefault(require(\"./core\"));\nvar ERLayout = /** @class */ (function (_super) {\n    __extends(ERLayout, _super);\n    function ERLayout(options) {\n        var _this = _super.call(this) || this;\n        _this.width = 300;\n        _this.height = 300;\n        _this.nodeMinGap = 50;\n        /** 迭代结束的回调函数 */\n        _this.onLayoutEnd = function () { };\n        if (options) {\n            _this.updateCfg(options);\n        }\n        return _this;\n    }\n    ERLayout.prototype.getDefaultCfg = function () {\n        return {\n            width: 300,\n            height: 300,\n            nodeMinGap: 50,\n        };\n    };\n    /**\n     * 执行布局\n     */\n    ERLayout.prototype.execute = function () {\n        var self = this;\n        var nodes = self.nodes;\n        var edges = self.edges;\n        // 节点初始化，size初始化\n        nodes === null || nodes === void 0 ? void 0 : nodes.forEach(function (node) {\n            if (!node.size) {\n                node.size = [50, 50];\n            }\n        });\n        return (0, core_1.default)({\n            nodes: nodes,\n            edges: edges,\n        }, {\n            width: this.width,\n            height: this.height,\n            nodeMinGap: this.nodeMinGap,\n        }).then(function () {\n            if (self.onLayoutEnd)\n                self.onLayoutEnd();\n        });\n    };\n    ERLayout.prototype.getType = function () {\n        return \"er\";\n    };\n    return ERLayout;\n}(base_1.Base));\nexports.ERLayout = ERLayout;\n"},"sourceMaps":{"js":{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/layout/er/index.ts"],"names":[],"mappings":";AAAA;;;GAGG;;;;;;;;;;;;;;;;;;;;;AAEH,gCAA+B;AAC/B,gDAA4B;AAU5B;IAA8B,4BAAI;IAShC,kBAAY,OAAa;QAAzB,YACE,iBAAO,SAIR;QAZM,WAAK,GAAW,GAAG,CAAC;QACpB,YAAM,GAAW,GAAG,CAAC;QACrB,gBAAU,GAAW,EAAE,CAAC;QAE/B,gBAAgB;QACT,iBAAW,GAAe,cAAQ,CAAC,CAAC;QAIzC,IAAI,OAAO,EAAE;YACX,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;SACzB;;IACH,CAAC;IAEM,gCAAa,GAApB;QACE,OAAO;YACL,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,UAAU,EAAE,EAAE;SACf,CAAC;IACJ,CAAC;IAED;;OAEG;IACI,0BAAO,GAAd;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACzB,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACzB,gBAAgB;QAChB,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,OAAO,CAAC,UAAC,IAAW;YACzB,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;gBACd,IAAI,CAAC,IAAI,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;aACtB;QACH,CAAC,CAAC,CAAC;QACH,OAAO,IAAA,cAAM,EAAC;YACZ,KAAK,OAAA;YAAE,KAAK,OAAA;SACb,EAAE;YACD,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,UAAU,EAAE,IAAI,CAAC,UAAU;SAC5B,CAAC,CAAC,IAAI,CAAC;YACN,IAAI,IAAI,CAAC,WAAW;gBAAE,IAAI,CAAC,WAAW,EAAE,CAAC;QAC3C,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,0BAAO,GAAd;QACE,OAAO,IAAI,CAAC;IACd,CAAC;IACH,eAAC;AAAD,CAAC,AAnDD,CAA8B,WAAI,GAmDjC;AAnDY,4BAAQ","sourcesContent":["/**\n * @fileOverview Force Layout Grid Align layout\n * @author wenyanqi\n */\n\nimport { Base } from \"../base\";\nimport layout from './core';\nimport { INode } from './type';\n\nexport interface ERLayoutOptions {\n  type: \"er\";\n  width?: number;\n  height?: number;\n  nodeMinGap?: number;\n}\n\nexport class ERLayout extends Base {\n\n  public width: number = 300;\n  public height: number = 300;\n  public nodeMinGap: number = 50;\n\n  /** 迭代结束的回调函数 */\n  public onLayoutEnd: () => void = () => { };\n\n  constructor(options?: any) {\n    super();\n    if (options) {\n      this.updateCfg(options);\n    }\n  }\n\n  public getDefaultCfg() {\n    return {\n      width: 300,\n      height: 300,\n      nodeMinGap: 50,\n    };\n  }\n\n  /**\n   * 执行布局\n   */\n  public execute() {\n    const self = this;\n    const nodes = self.nodes;\n    const edges = self.edges;\n    // 节点初始化，size初始化\n    nodes?.forEach((node: INode) => {\n      if (!node.size) {\n        node.size = [50, 50];\n      }\n    });\n    return layout({\n      nodes, edges,\n    }, {\n      width: this.width,\n      height: this.height,\n      nodeMinGap: this.nodeMinGap,\n    }).then(() => {\n      if (self.onLayoutEnd) self.onLayoutEnd();\n    });\n  }\n\n  public getType() {\n    return \"er\";\n  }\n}\n"]}},"error":null,"hash":"ed14ceae8b19a8ad75cf2ca8c4b456e6","cacheData":{"env":{}}}