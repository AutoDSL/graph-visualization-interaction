{"id":"node_modules/@antv/layout/lib/layout/dagre/src/coordinate-system.js","dependencies":[{"name":"D:\\myData\\前端\\doing\\graph-visualization-interaction\\node_modules\\@antv\\layout\\lib\\layout\\dagre\\src\\coordinate-system.js.map","includedInParent":true,"mtime":1676178923578},{"name":"D:\\myData\\前端\\doing\\graph-visualization-interaction\\node_modules\\@antv\\layout\\src\\layout\\dagre\\src\\coordinate-system.ts","includedInParent":true,"mtime":1676178923839},{"name":"D:\\myData\\前端\\doing\\graph-visualization-interaction\\package.json","includedInParent":true,"mtime":1676178924413},{"name":"D:\\myData\\前端\\doing\\graph-visualization-interaction\\node_modules\\@antv\\layout\\package.json","includedInParent":true,"mtime":1676178923486}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar adjust = function (g) {\n    var _a;\n    var rankDir = (_a = g.graph().rankdir) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n    if (rankDir === \"lr\" || rankDir === \"rl\") {\n        swapWidthHeight(g);\n    }\n};\nvar undo = function (g) {\n    var _a;\n    var rankDir = (_a = g.graph().rankdir) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n    if (rankDir === \"bt\" || rankDir === \"rl\") {\n        reverseY(g);\n    }\n    if (rankDir === \"lr\" || rankDir === \"rl\") {\n        swapXY(g);\n        swapWidthHeight(g);\n    }\n};\nvar swapWidthHeight = function (g) {\n    g.nodes().forEach(function (v) {\n        swapWidthHeightOne(g.node(v));\n    });\n    g.edges().forEach(function (e) {\n        swapWidthHeightOne(g.edge(e));\n    });\n};\nvar swapWidthHeightOne = function (attrs) {\n    var w = attrs.width;\n    attrs.width = attrs.height;\n    attrs.height = w;\n};\nvar reverseY = function (g) {\n    g.nodes().forEach(function (v) {\n        reverseYOne(g.node(v));\n    });\n    g.edges().forEach(function (e) {\n        var _a;\n        var edge = g.edge(e);\n        (_a = edge.points) === null || _a === void 0 ? void 0 : _a.forEach(function (point) { return reverseYOne(point); });\n        if (edge.hasOwnProperty(\"y\")) {\n            reverseYOne(edge);\n        }\n    });\n};\nvar reverseYOne = function (attrs) {\n    if (attrs === null || attrs === void 0 ? void 0 : attrs.y) {\n        attrs.y = -attrs.y;\n    }\n};\nvar swapXY = function (g) {\n    g.nodes().forEach(function (v) {\n        swapXYOne(g.node(v));\n    });\n    g.edges().forEach(function (e) {\n        var _a;\n        var edge = g.edge(e);\n        (_a = edge.points) === null || _a === void 0 ? void 0 : _a.forEach(function (point) { return swapXYOne(point); });\n        if (edge.hasOwnProperty(\"x\")) {\n            swapXYOne(edge);\n        }\n    });\n};\nvar swapXYOne = function (attrs) {\n    var x = attrs.x;\n    attrs.x = attrs.y;\n    attrs.y = x;\n};\nexports.default = { adjust: adjust, undo: undo };\n"},"sourceMaps":{"js":{"version":3,"file":"coordinate-system.js","sourceRoot":"","sources":["../../../../src/layout/dagre/src/coordinate-system.ts"],"names":[],"mappings":"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","sourcesContent":["import { Graph } from \"../graph\";\n\nconst adjust = (g: Graph) => {\n  const rankDir = g.graph().rankdir?.toLowerCase();\n  if (rankDir === \"lr\" || rankDir === \"rl\") {\n    swapWidthHeight(g);\n  }\n};\n\nconst undo = (g: Graph) => {\n  const rankDir = g.graph().rankdir?.toLowerCase();\n  if (rankDir === \"bt\" || rankDir === \"rl\") {\n    reverseY(g);\n  }\n\n  if (rankDir === \"lr\" || rankDir === \"rl\") {\n    swapXY(g);\n    swapWidthHeight(g);\n  }\n};\n\nconst swapWidthHeight = (g: Graph) => {\n  g.nodes().forEach((v) => {\n    swapWidthHeightOne(g.node(v)!);\n  });\n  g.edges().forEach((e) => {\n    swapWidthHeightOne(g.edge(e)!);\n  });\n};\n\nconst swapWidthHeightOne = (attrs: { width?: number; height?: number }) => {\n  const w = attrs.width;\n  attrs.width = attrs.height;\n  attrs.height = w;\n};\n\nconst reverseY = (g: Graph) => {\n  g.nodes().forEach((v) => {\n    reverseYOne(g.node(v)!);\n  });\n\n  g.edges().forEach((e) => {\n    const edge = g.edge(e)!;\n    edge.points?.forEach((point) => reverseYOne(point));\n    if (edge.hasOwnProperty(\"y\")) {\n      reverseYOne(edge as { y: number });\n    }\n  });\n};\n\nconst reverseYOne = (attrs: { y?: number }) => {\n  if (attrs?.y) {\n    attrs.y = -attrs.y;\n  }\n};\n\nconst swapXY = (g: Graph) => {\n  g.nodes().forEach((v) => {\n    swapXYOne(g.node(v));\n  });\n\n  g.edges().forEach((e) => {\n    const edge = g.edge(e)!;\n    edge.points?.forEach((point) => swapXYOne(point));\n    if (edge.hasOwnProperty(\"x\")) {\n      swapXYOne(edge);\n    }\n  });\n};\n\nconst swapXYOne = (attrs: any) => {\n  const x = attrs.x;\n  attrs.x = attrs.y;\n  attrs.y = x;\n};\n\nexport default { adjust, undo };\n"]}},"error":null,"hash":"8f76a998f67b6b2333a2cccb8dbc3082","cacheData":{"env":{}}}