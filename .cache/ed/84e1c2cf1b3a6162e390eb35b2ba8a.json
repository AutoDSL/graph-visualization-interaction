{"id":"node_modules/@antv/layout/lib/layout/random.js","dependencies":[{"name":"D:\\myData\\前端\\doing\\AutoPL\\node_modules\\@antv\\layout\\lib\\layout\\random.js.map","includedInParent":true,"mtime":499162500000},{"name":"D:\\myData\\前端\\doing\\AutoPL\\node_modules\\@antv\\layout\\src\\layout\\random.ts","includedInParent":true,"mtime":499162500000},{"name":"D:\\myData\\前端\\doing\\AutoPL\\package.json","includedInParent":true,"mtime":1674182060254},{"name":"D:\\myData\\前端\\doing\\AutoPL\\node_modules\\@antv\\layout\\package.json","includedInParent":true,"mtime":1674179681168},{"name":"./base","loc":{"line":23,"column":21,"index":963},"parent":"D:\\myData\\前端\\doing\\AutoPL\\node_modules\\@antv\\layout\\lib\\layout\\random.js","resolved":"D:\\myData\\前端\\doing\\AutoPL\\node_modules\\@antv\\layout\\lib\\layout\\base.js"}],"generated":{"js":"\"use strict\";\n/**\n * @fileOverview random layout\n * @author shiwu.wyy@antfin.com\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RandomLayout = void 0;\nvar base_1 = require(\"./base\");\n/**\n * 随机布局\n */\nvar RandomLayout = /** @class */ (function (_super) {\n    __extends(RandomLayout, _super);\n    function RandomLayout(options) {\n        var _this = _super.call(this) || this;\n        /** 布局中心 */\n        _this.center = [0, 0];\n        /** 宽度 */\n        _this.width = 300;\n        /** 高度 */\n        _this.height = 300;\n        _this.nodes = [];\n        _this.edges = [];\n        /** 迭代结束的回调函数 */\n        _this.onLayoutEnd = function () { };\n        _this.updateCfg(options);\n        return _this;\n    }\n    RandomLayout.prototype.getDefaultCfg = function () {\n        return {\n            center: [0, 0],\n            width: 300,\n            height: 300\n        };\n    };\n    /**\n     * 执行布局\n     */\n    RandomLayout.prototype.execute = function () {\n        var self = this;\n        var nodes = self.nodes;\n        var layoutScale = 0.9;\n        var center = self.center;\n        if (!self.width && typeof window !== \"undefined\") {\n            self.width = window.innerWidth;\n        }\n        if (!self.height && typeof window !== \"undefined\") {\n            self.height = window.innerHeight;\n        }\n        if (nodes) {\n            nodes.forEach(function (node) {\n                node.x = (Math.random() - 0.5) * layoutScale * self.width + center[0];\n                node.y = (Math.random() - 0.5) * layoutScale * self.height + center[1];\n            });\n        }\n        if (self.onLayoutEnd)\n            self.onLayoutEnd();\n        return {\n            nodes: nodes,\n            edges: this.edges\n        };\n    };\n    RandomLayout.prototype.getType = function () {\n        return \"random\";\n    };\n    return RandomLayout;\n}(base_1.Base));\nexports.RandomLayout = RandomLayout;\n"},"sourceMaps":{"js":{"version":3,"file":"random.js","sourceRoot":"","sources":["../../src/layout/random.ts"],"names":[],"mappings":";AAAA;;;GAGG;;;;;;;;;;;;;;;;;;AAGH,+BAA8B;AAE9B;;GAEG;AACH;IAAkC,gCAAI;IAiBpC,sBAAY,OAA6B;QAAzC,YACE,iBAAO,SAER;QAnBD,WAAW;QACJ,YAAM,GAAe,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAEnC,SAAS;QACF,WAAK,GAAW,GAAG,CAAC;QAE3B,SAAS;QACF,YAAM,GAAW,GAAG,CAAC;QAErB,WAAK,GAAc,EAAE,CAAC;QAEtB,WAAK,GAAW,EAAE,CAAC;QAE1B,gBAAgB;QACT,iBAAW,GAAe,cAAO,CAAC,CAAC;QAIxC,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;;IAC1B,CAAC;IAEM,oCAAa,GAApB;QACE,OAAO;YACL,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YACd,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;SACZ,CAAC;IACJ,CAAC;IAED;;OAEG;IACI,8BAAO,GAAd;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACzB,IAAM,WAAW,GAAG,GAAG,CAAC;QACxB,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;YAChD,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC;SAChC;QACD,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;YACjD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC;SAClC;QAED,IAAI,KAAK,EAAE;YACT,KAAK,CAAC,OAAO,CAAC,UAAC,IAAI;gBACjB,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,GAAG,WAAW,GAAG,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACtE,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,GAAG,WAAW,GAAG,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACzE,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,IAAI,CAAC,WAAW;YAAE,IAAI,CAAC,WAAW,EAAE,CAAC;QAEzC,OAAO;YACL,KAAK,OAAA;YACL,KAAK,EAAE,IAAI,CAAC,KAAK;SAClB,CAAC;IACJ,CAAC;IAEM,8BAAO,GAAd;QACE,OAAO,QAAQ,CAAC;IAClB,CAAC;IACH,mBAAC;AAAD,CAAC,AA/DD,CAAkC,WAAI,GA+DrC;AA/DY,oCAAY","sourcesContent":["/**\n * @fileOverview random layout\n * @author shiwu.wyy@antfin.com\n */\n\nimport { PointTuple, OutNode, Edge, RandomLayoutOptions } from \"./types\";\nimport { Base } from \"./base\";\n\n/**\n * 随机布局\n */\nexport class RandomLayout extends Base {\n  /** 布局中心 */\n  public center: PointTuple = [0, 0];\n\n  /** 宽度 */\n  public width: number = 300;\n\n  /** 高度 */\n  public height: number = 300;\n\n  public nodes: OutNode[] = [];\n\n  public edges: Edge[] = [];\n\n  /** 迭代结束的回调函数 */\n  public onLayoutEnd: () => void = () => {};\n\n  constructor(options?: RandomLayoutOptions) {\n    super();\n    this.updateCfg(options);\n  }\n\n  public getDefaultCfg() {\n    return {\n      center: [0, 0],\n      width: 300,\n      height: 300\n    };\n  }\n\n  /**\n   * 执行布局\n   */\n  public execute() {\n    const self = this;\n    const nodes = self.nodes;\n    const layoutScale = 0.9;\n    const center = self.center;\n    if (!self.width && typeof window !== \"undefined\") {\n      self.width = window.innerWidth;\n    }\n    if (!self.height && typeof window !== \"undefined\") {\n      self.height = window.innerHeight;\n    }\n\n    if (nodes) {\n      nodes.forEach((node) => {\n        node.x = (Math.random() - 0.5) * layoutScale * self.width + center[0];\n        node.y = (Math.random() - 0.5) * layoutScale * self.height + center[1];\n      });\n    }\n\n    if (self.onLayoutEnd) self.onLayoutEnd();\n\n    return {\n      nodes,\n      edges: this.edges\n    };\n  }\n\n  public getType() {\n    return \"random\";\n  }\n}\n"]}},"error":null,"hash":"17e9085abb455f21fc62445e5357b321","cacheData":{"env":{}}}